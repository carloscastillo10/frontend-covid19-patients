{% extends 'layouts/base.html' %}

{% block title %} Dashboard {% endblock title %}

{% block stylesheets %}
    <link href="./static/assets/css/aos.css" rel="stylesheet" />
{% endblock stylesheets %}

{% block content %}
    <div class="container-fluid py-4">
        <div class="d-flex flex-column h-100 mb-4">
            <h3 class="font-weight-bolder text-dark mb-0">Dashboard</h3>
        </div>
        <div class="grid-three-container">
            <div class="card" data-aos="fade-down" data-aos-delay="200">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between align-items-baseline">
                        <p class="skeleton skeleton-text skeleton-w-50 text-sm mb-1 text-capitalize font-weight-bold" id="moderate-label"></p>
                        <div class="skeleton skeleton-text skeleton-w-30 dropdown text-end" id="moderate-dropdown-container">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary d-flex justify-content-center align-items-center d-none" id="moderate-dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark" id="moderate-dropdown-label"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end dropdown-filter px-2 py-3" aria-labelledby="moderate-dropdown-filters">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-20 text-start" id="moderate-status-container">
                        <h5 class="font-weight-bolder mb-0" id="moderate-status"></h5>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-40 text-start" id="moderate-percentage-container">
                        <span class="text-sm text-end font-weight-bolder mt-auto mb-0" id="moderate-percentage">
                            <span class="font-weight-normal opacity-8 text-dark"></span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card" data-aos="fade-down" data-aos-delay="400">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <p class="skeleton skeleton-text skeleton-w-50 text-sm mb-1 text-capitalize font-weight-bold" id="serius-label"></p>
                        <div class="skeleton skeleton-text skeleton-w-30 dropdown text-end" id="serius-dropdown-container">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary d-flex justify-content-center align-items-center d-none" id="serius-dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark" id="serius-dropdown-label"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end dropdown-filter px-2 py-3" aria-labelledby="serius-dropdown-filters">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-20 text-start" id="serius-status-container">
                        <h5 class="font-weight-bolder mb-0" id="serius-status"></h5>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-40 text-start" id="serius-percentage-container">
                        <span class="text-sm text-end font-weight-bolder mt-auto mb-0" id="serius-percentage">
                            <span class="font-weight-normal opacity-8 text-dark"></span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card" data-aos="fade-down" data-aos-delay="600">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <p class="skeleton skeleton-text skeleton-w-50 text-sm mb-1 text-capitalize font-weight-bold" id="critical-label"></p>
                        <div class="skeleton skeleton-text skeleton-w-30 dropdown text-end" id="critical-dropdown-container">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary d-flex justify-content-center align-items-center d-none" id="critical-dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark" id="critical-dropdown-label"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end dropdown-filter px-2 py-3" aria-labelledby="critical-dropdown-filters">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-20 text-start" id="critical-status-container">
                        <h5 class="font-weight-bolder mb-0" id="critical-status"></h5>
                    </div>
                    <div class="skeleton skeleton-text skeleton-w-40 text-start" id="critical-percentage-container">
                        <span class="text-sm text-end font-weight-bolder mt-auto mb-0" id="critical-percentage">
                            <span class="font-weight-normal opacity-8 text-dark"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-two-container mt-4">
            <div class="card total-card" data-aos="fade-up" data-aos-delay="200">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <h5 class="mb-0 fw-bolder">Clasificaciones semanales</h5>
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Pacientes clasificados en los últimos 7 días">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="skeleton skeleton-chart chart" id="weekly-chart-container">
                        <canvas id="weekly-patient-chart" class="chart-canvas" height="197"></canvas>
                    </div>
                </div>
            </div>
            <div class="card total-card" data-aos="fade-left" data-aos-delay="200">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <h5 class="mb-0 fw-bolder">Pacientes totales clasificados</h5>
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Total de pacientes clasificados">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0V0z"></path>
                                <path d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="row">
                        <div class="col-12 col-md-6 text-center mb-5">
                            <div class="skeleton skeleton-chart chart mb-5" id="total-doughnut-chart-container">
                                <canvas class="chart-canvas position-relative z-index-1" id="total-patient-doughnut-chart" height="197"></canvas>
                            </div>
                            <h4 class="font-weight-bold mt-n13">
                                <span class="fw-bolder" id="total-doughnut-chart-status"></span>
                                <span class="d-block text-body text-sm d-none" id="total-doughnut-chart-label">PACIENTES</span>
                            </h4>
                        </div>
                        <div class="col-12 col-md-6 mt-5">
                            <div class="skeleton skeleton-chart table-responsive" id="total-table-container">
                                <table class="table align-items-center mb-0" id="total-table" height="100"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-one-container mt-4">
            <div class="card" data-aos="zoom-out" data-aos-delay="200">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <input class="mb-0 form-control datepicker" placeholder="Este año" type="text" onfocus="focused(this)" onfocusout="defocused(this)">
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="input-icon ms-2" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                            <path fill="none" d="M0 0h24v24H0V0z"></path>
                            <path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z"></path>
                        </svg>
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Total de pacientes clasificados en un determinado intervalo de tiempo">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 520 520" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="card-body p-3">                  
                    <div class="card-body p-3">
                        <div class="grid-one-container">
                            <div class="row">
                                <div class="cart-info col-sm-12 col-md-4">
                                    <h4 class="skeleton skeleton-text skeleton-w-30 text-dark text-4xl fw-bolder" id="total-line-chart-status"></h4>
                                    <div class="d-flex align-items-start">
                                        <p class="skeleton skeleton-text skeleton-w-30 text-seconday text-sm me-3 d-none" id="total-line-chart-label">Pacientes</p>
                                        <div class="skeleton skeleton-text skeleton-w-10 d-flex align-items-center" id="total-line-chart-percentage"></div>
                                    </div>
                                </div> 
                                <div class="grid-badges col-sm-12 col-md-8 mt-3">
                                    <span class="skeleton skeleton-text badge badge-md badge-dot text-justify p-0" id="total-line-moderate-badge">
                                        <span class="text-dark text-xs d-none"></span>
                                    </span>
                                    <span class="skeleton skeleton-text badge badge-md badge-dot text-justify p-0" id="total-line-serius-badge">
                                        <span class="text-dark text-xs d-none"></span>
                                    </span>
                                    <span class="skeleton skeleton-text badge badge-md badge-dot text-justify p-0" id="total-line-critical-badge">
                                        <span class="text-dark text-xs d-none"></span>
                                    </span>
                                </div>
                            </div>
                            
                            <div class="skeleton skeleton-chart chart" id="total-line-chart-container">
                                <canvas id="total-line-chart" class="chart-canvas" height="300"></canvas>
                            </div>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-one-container mt-4">
            <div class="card" data-aos="fade-up" data-aos-delay="100">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center justify-content-between">
                        <h5 class="mb-0 fw-bolder">Resúmen de pacientes</h5>
                        <div class="dropdown text-end">
                            <a href="javascript:;" class="btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" id="dropdown-table-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="none" d="M0 0h24v24H0V0z"></path>
                                    <path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path>
                                </svg>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end dropdown-filter dropdown-filter-icon px-2 py-3" aria-labelledby="dropdown-table-filters">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Todos</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Pacientes moderados</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Pacientes graves</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Pacientes críticos</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="skeleton skeleton-table table-responsive" id="datatable-patients-container">
                        <table class="table table-flush d-none" id="datatable-patients">
                            <thead class="thead-light">
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Identificación</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Nombres y Apellidos</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Fecha</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Gravedad</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Saturación de 0<sub>2</sub></th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Presión parcial de 0<sub>2</sub></th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Fracción de 0<sub>2</sub>&nbsp;inspirado</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Relación entre la Presión Parcial de oxígeno y la Fracción de oxígeno inspirado">Relación P/F</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Insuficiencia respiratoria</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Hace referencia si el paciente presenta el síndrome de dificultad respiratoria aguda">ARDS</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Shock séptico</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Fiebre</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Tos</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Dolor de garganta</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Dolor de cabeza</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Fatiga</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Disnea</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Náuseas</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Vómito</th>
                                <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7">Diarrea</th>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}

{% block javascripts %}
    <script src="./static/assets/js/plugins/aos.js"></script>
    <script src="./static/assets/js/plugins/countup.min.js"></script>
    <script src="./static/assets/js/plugins/chartjs.min.js"></script>
    <script src="./static/assets/js/plugins/flatpickr.min.js"></script>
    <script src="./static/assets/js/plugins/flatpickr-es.js"></script>
    <script src="./static/assets/js/plugins/datatables.js"></script>
    <script src="./static/assets/js/dashboard.js"></script>
{% endblock javascripts %} 