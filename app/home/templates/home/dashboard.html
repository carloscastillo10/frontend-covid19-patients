{% extends 'layouts/base.html' %}

{% block title %} Dashboard {% endblock title %}

{% block content %}
    <div class="container-fluid py-4">
        <div class="d-flex flex-column h-100 mb-4">
            <h2 class="font-weight-bolder text-dark mb-0">Dashboard</h2>
        </div>
        <div class="grid-three-container">
            <div class="card">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <p class="text-sm mb-1 text-capitalize font-weight-bold">Pacientes moderados</p>
                        <div class="dropdown text-end">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary" id="dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark">18 - 24 de Julio</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdown-filters" style="">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="text-start">
                        <h5 class="font-weight-bolder mb-0" id="moderate-status" countto="42">
                            42
                        </h5>
                        <span class="text-sm text-end text-danger font-weight-bolder mt-auto mb-0">
                            +10% 
                            <span class="font-weight-normal opacity-8 text-dark">desde la semana pasada</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <p class="text-sm mb-1 text-capitalize font-weight-bold">Pacientes graves</p>
                        <div class="dropdown text-end">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary" id="dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark">18 - 24 de Julio</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdown-filters" style="">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="text-start">
                        <h5 class="font-weight-bolder mb-0" id="serius-status" countto="23">
                            23
                        </h5>
                        <span class="text-sm text-end text-danger font-weight-bolder mt-auto mb-0">
                            +5% 
                            <span class="font-weight-normal opacity-8 text-dark">desde la semana pasada</span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-body p-3">
                    <div class="d-flex justify-content-between">
                        <p class="text-sm mb-1 text-capitalize font-weight-bold">Pacientes críticos</p>
                        <div class="dropdown text-end">
                            <a href="javascript:;" class="filter-date cursor-pointer text-secondary" id="dropdown-filters" data-bs-toggle="dropdown" aria-expanded="false">
                                <span class="text-xs opacity-8 text-dark">18 - 24 de Julio</span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end px-2 py-3" aria-labelledby="dropdown-filters" style="">
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 7 días</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Semana pasada</a></li>
                                <li><a class="dropdown-item border-radius-md" href="javascript:;">Últimos 30 días</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="text-start">
                        <h5 class="font-weight-bolder mb-0" id="critical-status" countto="20">
                            20
                        </h5>
                        <span class="text-sm text-end text-success font-weight-bolder mt-auto mb-0">
                            -20% 
                            <span class="font-weight-normal opacity-8 text-dark">desde la semana pasada</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-two-container mt-4">
            <div class="card total-card">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <h5 class="mb-0 fw-bolder">Pacientes totales clasificados</h5>
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Total de pacientes clasificados">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0V0z"></path>
                                <path d="M11 2v20c-5.07-.5-9-4.79-9-10s3.93-9.5 9-10zm2.03 0v8.99H22c-.47-4.74-4.24-8.52-8.97-8.99zm0 11.01V22c4.74-.47 8.5-4.25 8.97-8.99h-8.97z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="row">
                        <div class="col-6 text-center">
                            <div class="chart">
                                <canvas id="chart-total-patients" class="chart-canvas" height="197"></canvas>
                            </div>
                            <h4 class="font-weight-bold mt-n8">
                                <span class="fw-bolder" id="total-status" countto="218">218</span>
                                <span class="d-block text-body text-sm">PACIENTES</span>
                            </h4>
                        </div>
                        <div class="col-6 mt-5">
                            <div class="table-responsive">
                                <table class="table align-items-center mb-0">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <div class="d-flex px-2 py-0">
                                                    <span class="badge moderate-bg me-3"> </span>
                                                    <div class="d-flex flex-column justify-content-center">
                                                        <h6 class="mb-0 text-sm">Moderados</h6>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="align-middle text-center text-sm">
                                                <span class="text-xs font-weight-bold"> 140 </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex px-2 py-0">
                                                    <span class="badge serius-bg me-3"> </span>
                                                    <div class="d-flex flex-column justify-content-center">
                                                        <h6 class="mb-0 text-sm">Graves</h6>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="align-middle text-center text-sm">
                                                <span class="text-xs font-weight-bold"> 60 </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="d-flex px-2 py-0">
                                                    <span class="badge critical-bg me-3"> </span>
                                                    <div class="d-flex flex-column justify-content-center">
                                                        <h6 class="mb-0 text-sm">Críticos</h6>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="align-middle text-center text-sm">
                                                <span class="text-xs font-weight-bold"> 18 </span>
                                            </td>
                                        </tr>                                   
                                  </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card total-card">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <h5 class="mb-0 fw-bolder">Clasificaciones semanales</h5>
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Pacientes clasificados en los últimos 7 días">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path fill="none" d="M0 0h24v24H0z"></path>
                                <path d="M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="card-body p-3">
                    <div class="chart">
                        <canvas id="chart-week-patients" class="chart-canvas" height="197"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-one-container mt-4">
            <div class="card">
                <div class="card-header pb-0 p-3">
                    <div class="d-flex align-items-center">
                        <input class="mb-0 form-control datepicker" placeholder="Este año" type="text" onfocus="focused(this)" onfocusout="defocused(this)">
                        <button type="button" class="btn btn-chart mb-0 ms-2 d-flex align-items-center justify-content-center ms-auto" data-bs-toggle="tooltip" data-bs-placement="left" title="Total de pacientes clasificados">
                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 520 520" focusable="false" class="chart-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path d="M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM342.6 278.6C330.1 291.1 309.9 291.1 297.4 278.6L240 221.3L150.6 310.6C138.1 323.1 117.9 323.1 105.4 310.6C92.88 298.1 92.88 277.9 105.4 265.4L217.4 153.4C229.9 140.9 250.1 140.9 262.6 153.4L320 210.7L425.4 105.4C437.9 92.88 458.1 92.88 470.6 105.4C483.1 117.9 483.1 138.1 470.6 150.6L342.6 278.6z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock content %}

{% block javascripts %}
    <script src="./static/assets/js/plugins/countup.min.js"></script>
    <script src="./static/assets/js/plugins/chartjs.min.js"></script>
    <script src="./static/assets/js/plugins/flatpickr.min.js"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/es.js"></script>
    <script src="./static/assets/js/covid19-patients.js"></script> 
{% endblock javascripts %} 