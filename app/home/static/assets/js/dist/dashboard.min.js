const moderatePatientColor="#10739E",seriusPatientColor="#CF8913",criticalPatientColor="#9D443D",skeletonClasses=["skeleton","skeleton-text","skeleton-chart","skeleton-table","skeleton-body","skeleton-w-10","skeleton-w-20","skeleton-w-30","skeleton-w-40","skeleton-w-50","skeleton-w-60","skeleton-w-70","skeleton-w-90","skeleton-w-90","skeleton-w-100"],covid19Severities={moderate:{index:0},serius:{index:1},critical:{index:2}};date.locale("es");let weeklyPatientChartInstance,totalPatientsDoughnutChartInstance,totalPatientLineChartInstance,patientsDataTableInstance;function capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function setDateFormat(t,e){const a=date.format(new Date(t),e);return capitalize(a.replace(".",""))}function setPatientCard(t,e,a){let n=document.getElementById(a+"-label");n.innerHTML=e.label,removeSkeletonClasses(n);var o=document.getElementById(a+"-dropdown-container");let s=document.getElementById(a+"-dropdown-label"),r=document.getElementById(a+"-dropdown-filters");s.innerHTML=t,r.classList.remove("d-none"),removeSkeletonClasses(o);t=document.getElementById(a+"-status-container"),setCoutUp(document.getElementById(a+"-status"),e.total),removeSkeletonClasses(t),o=document.getElementById(a+"-percentage-container");setPatientCardPercentage(a,e.percentage,e.percentage_label),removeSkeletonClasses(o)}function setPatientCardPercentage(t,e,a){const n=document.getElementById(t+"-percentage");0<(e=e.toFixed(0))?(n.innerHTML=`+${e}%`,n.classList.remove("text-success"),n.classList.add("text-danger")):(n.innerHTML=e+"%",n.classList.remove("text-danger"),n.classList.add("text-success")),n.innerHTML+=`<span class="font-weight-normal opacity-8 text-dark" id="moderate-percentage-label"> ${a}</span>`}function createWeeklyPatientsChart(t,e,a,n){var o=document.getElementById("weekly-chart-container"),s=document.getElementById("weekly-patient-chart").getContext("2d");weeklyPatientChartInstance=new Chart(s,{type:"bar",data:{labels:getChartLabels(t.labels),datasets:[{label:e.label,tension:1,borderWidth:0,borderRadius:5,backgroundColor:moderatePatientColor,data:e.data,maxBarThickness:20},{label:a.label,tension:1,borderWidth:0,borderRadius:5,backgroundColor:seriusPatientColor,data:a.data,maxBarThickness:20},{label:n.label,tension:1,borderWidth:0,borderRadius:5,backgroundColor:criticalPatientColor,data:n.data,maxBarThickness:20}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{usePointStyle:!0,pointStyle:"circle"}},scales:{y:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{display:!1},stacked:!0},x:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{beginAtZero:!0,font:{size:12,family:"Open Sans",style:"normal"},color:"#9ca2b7"},stacked:!0}}}}),removeSkeletonClasses(o)}function createTotalPatientsDoughnutChart(t){var e=t.data.moderate_patients,a=t.data.serius_patients,n=t.data.critical_patients,o=document.getElementById("total-doughnut-chart-container");const s=document.getElementById("total-patient-doughnut-chart").getContext("2d"),r=s.createLinearGradient(0,230,0,50);var l=document.getElementById("total-doughnut-chart-status");const d=document.getElementById("total-doughnut-chart-label");r.addColorStop(1,"rgba(16, 115, 158,0.2)"),r.addColorStop(.2,"rgba(72,72,176,0.0)"),r.addColorStop(0,"rgba(16, 115, 158,0)"),totalPatientsDoughnutChartInstance=new Chart(s,{type:"doughnut",data:{labels:[e.label,a.label,n.label],datasets:[{weight:10,cutout:90,tension:.9,pointRadius:2,borderWidth:1,borderRadius:5,backgroundColor:[moderatePatientColor,seriusPatientColor,criticalPatientColor],data:[e.total,a.total,n.total],fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{usePointStyle:!0,pointStyle:"circle"}},interaction:{intersect:!1,mode:"point"},scales:{y:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{display:!1}},x:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{display:!1}}}}}),setCoutUp(l,t.total),d.classList.remove("d-none"),removeSkeletonClasses(o),createTotalTable(e,a,n)}function createTotalTable(t,e,a){var n=document.getElementById("total-table-container");const o=document.getElementById("total-table");o.innerHTML+=`
        <tbody>
            <tr>
                <td>
                    <div class="d-flex px-2 py-0">
                        <span class="badge moderate-bg me-3"> </span>
                        <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">${t.label.split(" ")[1]}</h6>
                        </div>
                    </div>
                </td>
                <td class="align-middle text-center text-sm">
                    <span class="text-body text-xs font-weight-bold" id="donut-moderate-status"> ${t.total} </span>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="d-flex px-2 py-0">
                        <span class="badge serius-bg me-3"> </span>
                        <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">${e.label.split(" ")[1]}</h6>
                        </div>
                    </div>
                </td>
                <td class="align-middle text-center text-sm">
                    <span class="text-body text-xs font-weight-bold" id="donut-serius-status"> ${e.total} </span>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="d-flex px-2 py-0">
                        <span class="badge critical-bg me-3"> </span>
                        <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">${a.label.split(" ")[1]}</h6>
                        </div>
                    </div>
                </td>
                <td class="align-middle text-center text-sm">
                    <span class="text-body text-xs font-weight-bold" id="donut-critical-status"> ${a.total} </span>
                </td>
            </tr>
        </tbody>
    `,removeSkeletonClasses(n)}function createTotalPatientsLineChart(t){var e=t.data.moderate_patients,a=t.data.serius_patients,n=t.data.critical_patients,o=document.getElementById("total-line-chart-status");const s=document.getElementById("total-line-chart-label");var r=document.getElementById("total-line-chart-label-container");const l=document.getElementById("total-line-badges"),d=document.getElementById("total-line-chart-percentage");setCoutUp(o,t.total),s.classList.remove("d-none"),d.innerHTML=setTotalPatientPercentage(t.total_percentage),setLegendTotalPatientLineChart("moderate",e.label),setLegendTotalPatientLineChart("serius",a.label),setLegendTotalPatientLineChart("critical",n.label),l.classList.add("mb-1"),constructTotalPatientLineChart(t.labels,e,a,n),removeSkeletonClasses(o),removeSkeletonClasses(r),removeSkeletonClasses(d)}function setTotalPatientPercentage(t){return 0<=(t=t.toFixed(0))?`
            <i class="ni ni-bold-up text-sm text-danger me-1"></i>
            <span class="text-sm text-end text-danger font-weight-bolder mt-auto mb-0">+${t}%</span>
            <span class="text-secondary text-sm ms-2">en <strong>${(new Date).getFullYear()}</strong></span>
        `:`
            <i class="ni ni-bold-down text-sm text-success me-1"></i>
            <span class="text-sm text-end text-success font-weight-bolder mt-auto mb-0">${t}%</span>
            <span class="text-secondary text-sm ms-2">en <strong>${(new Date).getFullYear()}</strong></span>
        `}function setLegendTotalPatientLineChart(t,e){const a=document.getElementById(`total-line-${t}-badge`);a.innerHTML=`
        <i class="${t}-bg"></i>
        <span class="text-dark text-xs">${e}</span>
    `,removeSkeletonClasses(a)}function validateDate(t){var e=(new Date).getFullYear().toString();return t.includes(e)}function getChartLabels(t){if(t.every(validateDate)){const e=(new Date).getFullYear().toString();return let=labels=[],t.map(t=>{t.includes(e)&&labels.push(t.replace(" "+e,""))}),labels}return t}function destroyChart(t){t&&t.destroy()}function constructTotalPatientLineChart(t,e,a,n){var o=document.getElementById("total-line-chart-container");const s=document.getElementById("total-line-chart").getContext("2d"),r=s.createLinearGradient(0,230,0,50),l=s.createLinearGradient(0,230,0,50),d=s.createLinearGradient(0,230,0,50);r.addColorStop(1,"rgba(23, 194, 232, 0.2)"),r.addColorStop(.2,"rgba(72,72,176,0.0)"),r.addColorStop(0,"rgba(23, 194, 232,0)"),l.addColorStop(1,"rgba(58, 65, 111,0.2)"),l.addColorStop(.2,"rgba(72,72,176,0.0)"),l.addColorStop(0,"rgba(58, 65, 111,0)"),d.addColorStop(1,"rgba(203, 12, 159,0.2)"),d.addColorStop(.2,"rgba(72,72,176,0.0)"),d.addColorStop(0,"rgba(203, 12, 159,0)"),totalPatientLineChartInstance=new Chart(s,{type:"line",data:{labels:getChartLabels(t),datasets:[{label:e.label,tension:.4,pointRadius:2,pointBackgroundColor:moderatePatientColor,borderColor:moderatePatientColor,backgroundColor:r,borderWidth:3,fill:!0,data:e.data,maxBarThickness:6},{label:a.label,tension:.4,pointRadius:2,pointBackgroundColor:seriusPatientColor,borderColor:seriusPatientColor,backgroundColor:l,borderWidth:3,fill:!0,data:a.data,maxBarThickness:6},{label:n.label,tension:.4,pointRadius:2,pointBackgroundColor:criticalPatientColor,borderColor:criticalPatientColor,backgroundColor:d,borderWidth:3,fill:!0,data:n.data,maxBarThickness:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{usePointStyle:!0,pointStyle:"circle",position:"nearest"}},interaction:{mode:"index"},scales:{y:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{display:!1}},x:{grid:{drawBorder:!1,display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{beginAtZero:!0,font:{size:12,family:"Open Sans",style:"normal"},color:"#9ca2b7"}}}}}),removeSkeletonClasses(o)}function clearPatientDataTable(t){patientsDataTableInstance.clear(),patientsDataTableInstance.destroy(),t.removeChild(t.getElementsByTagName("tbody")[0])}function createSummaryTable(t){var e=document.getElementById("datatable-patients-container");let a=document.getElementById("datatable-patients");t=setTbodySummaryTable(t.patients);patientsDataTableInstance&&clearPatientDataTable(a),a.innerHTML+=`
        <tbody>
            ${t}
        </tbody>
    `,a.classList.remove("d-none"),removeSkeletonClasses(e),setDatatablePlugin()}function addTrSummaryTable(t){return`
        <tr>
            <td class="text-sm text-dark fw-bolder">${t.identification}</td>
            <td class="text-sm text-dark fw-bolder">${t.name}</td>
            <td class="text-sm text-dark fw-bolder">${setDateFormat(t.created_at,"DD MMM YYYY")}</td>
            <td class="text-sm text-dark fw-bolder">${setCaseSeverityPatient(t.covid19_severity)}</td>
            <td class="text-sm text-dark fw-bolder">${t.sato2}%</td>
            <td class="text-sm text-dark fw-bolder">${t.pao2}%</td>
            <td class="text-sm text-dark fw-bolder">${t.fio2}%</td>
            <td class="text-sm text-dark fw-bolder">${t.pf_ratio} mmHg</td>
            <td>${setTdSyntomatology(t.respiratory_failure)}</td>
            <td>${setTdSyntomatology(t.ards)}</td>
            <td>${setTdSyntomatology(t.sepsis_shock)}</td>
            <td>${setTdSyntomatology(t.fever)}</td>
            <td>${setTdSyntomatology(t.cough)}</td>
            <td>${setTdSyntomatology(t.sore_throat)}</td>
            <td>${setTdSyntomatology(t.headache)}</td>
            <td>${setTdSyntomatology(t.fatigue)}</td>
            <td>${setTdSyntomatology(t.dyspnea)}</td>
            <td>${setTdSyntomatology(t.nausea)}</td>
            <td>${setTdSyntomatology(t.vomit)}</td>
            <td>${setTdSyntomatology(t.diarrhea)}</td>
        </tr>
    `}function setTbodySummaryTable(t){let e="";return t.forEach(t=>{e+=addTrSummaryTable(t)}),e}function setCaseSeverityPatient(t){var e=t.toLowerCase();return"moderado"===e?`<span class="badge moderate-bg badge-sm">${t}</span>`:"grave"===e?`<span class="badge serius-bg badge-sm">${t}</span>`:`<span class="badge critical-bg badge-sm">${t}</span>`}function setTdSyntomatology(t){return t?`
            <div class="d-flex align-items-center">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="td-icon text-danger" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                    <path fill="none" d="M0 0h24v24H0z"></path>
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
                </svg>
                <p class="text-sm text-dark fw-bolder mb-0">SI</p>
            </div>
        `:`
        <div class="d-flex align-items-center">
            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" focusable="false" class="td-icon text-success" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path>
            </svg>
            <p class="text-sm text-dark fw-bolder mb-0">NO</p>
        </div>
    `}function setDatatablePlugin(){patientsDataTableInstance=new simpleDatatables.DataTable("#datatable-patients")}function setCoutUp(t,e){if(t.setAttribute("countTo",e),t){const a=new CountUp(t,t.getAttribute("countTo"));a.error||a.start()}}function initializeTooltips(){const t=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));t.map(function(t){return new bootstrap.Tooltip(t,{})})}function removeSkeletonClasses(t){t.classList.remove(...skeletonClasses)}function aosInit(){AOS.init({duration:1e3,easing:"ease-in-out",once:!1,mirror:!1})}function errorAlert(){Swal.fire({icon:"error",title:"Error al procesar la solicitud",text:"Intente nuevamente por favor!",confirmButtonText:"Aceptar",timer:3e3,timerProgressBar:!0})}function setCardDate(t,e){return e=setDateFormat((new Date).toDateString(),"MM/DD/YYYY")===e?(t=setDateFormat(t,"DD de MMMM"),"Hoy"):(t=setDateFormat(t,"DD de MMM"),setDateFormat(e,"DD de MMM")),t+" - "+e}function getInitialData(){$.ajax({url:"/initial-dashboard-data",type:"GET",success:t=>{var e=t.weekly_ranking,a=t.annual_ranking,n=t.total_ranking,t=t.summary,o=setCardDate(e.start_date,e.end_date),s=e.data.moderate_patients,r=e.data.serius_patients,l=e.data.critical_patients;setPatientCard(o,s,"moderate"),setPatientCard(o,r,"serius"),setPatientCard(o,l,"critical"),createWeeklyPatientsChart(e,s,r,l),createTotalPatientsDoughnutChart(n),createTotalPatientsLineChart(a),createSummaryTable(t),initializeTooltips()},error:()=>{window.location.href="/500"}})}function addSkeletonClasses(t,e){t.classList.add(...e)}function addCardSkeletonClasses(t){var e=document.getElementById(t+"-dropdown-container");let a=document.getElementById(t+"-dropdown-filters");addSkeletonClasses(e,["skeleton","skeleton-text","skeleton-w-30"]);e=document.getElementById(t+"-status-container");let n=document.getElementById(t+"-status");n.innerText="",addSkeletonClasses(e,["skeleton","skeleton-text","skeleton-w-20"]);e=document.getElementById(t+"-percentage-container");(percentageStatus=document.getElementById(t+"-percentage")).innerText="",addSkeletonClasses(e,["skeleton","skeleton-text","skeleton-w-40"]),a.classList.add("d-none")}function queryPatientCard(e){$.ajax({url:"/filter-patient-card",type:"GET",data:e,beforeSend:()=>{addCardSkeletonClasses(e.covid19Severity)},success:t=>{setPatientCard(setCardDate(t.start_date,t.end_date),t.data.patients,e.covid19Severity)},error:()=>{errorAlert()}})}let dropDownsCardSelected={moderate:{covid19Severity:"moderate",dateRange:"lastSevenDays"},serius:{covid19Severity:"serius",dateRange:"lastSevenDays"},critical:{covid19Severity:"critical",dateRange:"lastSevenDays"}};localStorage.setItem(dropDownsCardSelected.moderate.covid19Severity+"-date-range",dropDownsCardSelected.moderate.dateRange),localStorage.setItem(dropDownsCardSelected.serius.covid19Severity+"-date-range",dropDownsCardSelected.serius.dateRange),localStorage.setItem(dropDownsCardSelected.critical.covid19Severity+"-date-range",dropDownsCardSelected.critical.dateRange);const dropDownOptions=document.querySelectorAll("#moderate-dropdown-options li a, #serius-dropdown-options li a, #critical-dropdown-options li a");function addTotalLineSkeletonClasses(){let t=document.getElementById("total-line-chart-status"),e=(t.innerText="",addSkeletonClasses(t,["skeleton","skeleton-text","skeleton-w-20"]),document.getElementById("total-line-chart-label"));e.classList.add("d-none"),addSkeletonClasses(document.getElementById("total-line-chart-label-container"),["skeleton","skeleton-text","skeleton-w-30"]);let a=document.getElementById("total-line-chart-percentage");a.innerText="",addSkeletonClasses(a,["skeleton","skeleton-text","skeleton-w-50"]),addSkeletonClasses(document.getElementById("total-line-chart-container"),["skeleton","skeleton-chart"])}function queryTotalPatientLineChart(t){$.ajax({url:"/filter-total-line-chart",type:"GET",data:t,beforeSend:()=>{destroyChart(totalPatientLineChartInstance),addTotalLineSkeletonClasses()},success:t=>{createTotalPatientsLineChart(t.ranking)},error:()=>{errorAlert()}})}function resetTotalPatientLineChart(){var t=localStorage.getItem("total-line-range-date"),e=setDateFormat(new Date,"DD-MMM-YYYY");t!==e&&(t={startDate:e},localStorage.setItem("total-line-range-date",e),queryTotalPatientLineChart(t))}dropDownOptions.forEach(n=>{n.addEventListener("click",()=>{var t,e=n.getAttribute("data-severity"),a=n.getAttribute("date-range");localStorage.getItem(e+"-date-range")!==a&&(t={covid19Severity:e,dateRange:a},localStorage.setItem(e+"-date-range",a),queryPatientCard(dropDownsCardSelected[e]=t))})});var totalLineChartDates=null;function clearDatePicker(){document.querySelector(".datepicker")._flatpickr.clear(),resetTotalPatientLineChart()}function querySummaryTable(t){$.ajax({url:"/filter-summary-table",type:"GET",data:t,success:t=>{createSummaryTable(t.summary)},error:()=>{errorAlert()}})}function addSumaryTableSkeletonClasses(){document.getElementById("datatable-patients").classList.add("d-none"),document.getElementsByClassName("dataTable-top")[0].classList.add("d-none"),document.getElementsByClassName("dataTable-bottom")[0].classList.add("d-none"),addSkeletonClasses(document.getElementById("datatable-patients-container"),["skeleton","skeleton-table"])}localStorage.setItem("total-line-range-date",setDateFormat(new Date,"DD-MMM-YYYY")),document.querySelector(".datepicker")&&flatpickr(".datepicker",{mode:"range",locale:"es",dateFormat:"d M Y",maxDate:new Date,onChange:t=>{var e,a;2===t.length&&((e=setDateFormat(t[0],"MM-DD-YYYY"))===(t=setDateFormat(t[1],"MM-DD-YYYY"))?(clearDatePicker(),totalLineChartDates=null):localStorage.getItem("total-line-range-date")!==e+" - "+t&&(a={startDate:e,endDate:t},localStorage.setItem("total-line-range-date",e+" - "+t),queryTotalPatientLineChart(a),totalLineChartDates=a))},onClose:t=>{1===t.length&&(resetTotalPatientLineChart(),totalLineChartDates=null)}}),document.getElementById("clear-date").addEventListener("click",()=>{clearDatePicker()});let dropDownsSummaryTableSelected={selected:{covid19Severity:"all"}};localStorage.setItem("summary-selected",dropDownsSummaryTableSelected.selected.covid19Severity);const summaryDropDownOptions=document.querySelectorAll("#dropdown-table-options li a");function updateCardPatient(n,o){let t=dropDownsCardSelected[o];var s=t.dateRange.toLowerCase();if("lastweek"!==s){var r=document.getElementById(o+"-status");let t=0,e=0,a="";"lastsevendays"===s&&(t=n.weekly_ranking.data.patients.total,e=n.weekly_ranking.data.patients.percentage,a=n.weekly_ranking.data.patients.percentage_label),"lastmonth"===s&&(t=n.monthly_ranking.data.patients.total,e=n.monthly_ranking.data.patients.percentage,a=n.monthly_ranking.data.patients.percentage_label),setCoutUp(r,t),setPatientCardPercentage(o,e,a)}}function checkDateExists(t,e){return t.data.labels.indexOf(e)}function getCovid19SeverityIndex(t){return covid19Severities[t].index}function updateWeeklyPatientsChart(t,e){var e=getChartLabels([e])[0],t=getCovid19SeverityIndex(t),a=checkDateExists(weeklyPatientChartInstance,e);-1===a?(weeklyPatientChartInstance.data.labels.push(e),weeklyPatientChartInstance.data.datasets[t].data.push(1)):(e=weeklyPatientChartInstance.data.datasets[t].data[a]||0,weeklyPatientChartInstance.data.datasets[t].data[a]=e+1),weeklyPatientChartInstance.update()}function updateTotalPatientsDoughnutChart(t,e){var a=getCovid19SeverityIndex(e),n=document.getElementById("total-doughnut-chart-status"),o=totalPatientsDoughnutChartInstance.data.datasets[0].data[a]||0;let s=document.getElementById(`donut-${e}-status`);setCoutUp(n,t.total),totalPatientsDoughnutChartInstance.data.datasets[0].data[a]=o+1,totalPatientsDoughnutChartInstance.update(),s.innerText=+s.innerText+1}function updateTotalPatientsLineChart(e,a,n){if(!totalLineChartDates){var o=document.getElementById("total-line-chart-status");let t=document.getElementById("total-line-chart-percentage");var n=getChartLabels([n])[0],a=getCovid19SeverityIndex(a),s=checkDateExists(totalPatientLineChartInstance,n);setCoutUp(o,e.total),t.innerHTML=setTotalPatientPercentage(e.total_percentage),-1===s?(totalPatientLineChartInstance.data.labels.push(n),totalPatientLineChartInstance.data.datasets[a].data.push(1)):(o=totalPatientLineChartInstance.data.datasets[a].data[s]||0,totalPatientLineChartInstance.data.datasets[a].data[s]=o+1),totalPatientLineChartInstance.update()}}function updateSummaryTable(){querySummaryTable(dropDownsSummaryTableSelected.selected)}summaryDropDownOptions.forEach(a=>{a.addEventListener("click",()=>{var t,e=a.getAttribute("data-severity");localStorage.getItem("summary-selected")!==e&&(t={covid19Severity:e},dropDownsSummaryTableSelected.selected=t,localStorage.setItem("summary-selected",e),addSumaryTableSkeletonClasses(),querySummaryTable(t))})});var socket=io.connect("https://dashboard-microservice.herokuapp.com",{forceNew:!0});socket.on("patient",t=>{updateCardPatient(t,t.type_of_patient),updateWeeklyPatientsChart(t.type_of_patient,t.large_date),updateTotalPatientsDoughnutChart(t.total_ranking,t.type_of_patient),updateTotalPatientsLineChart(t.annual_ranking,t.type_of_patient,t.short_date),updateSummaryTable(dropDownsSummaryTableSelected.selected)}),window.addEventListener("load",()=>{aosInit(),getInitialData()});